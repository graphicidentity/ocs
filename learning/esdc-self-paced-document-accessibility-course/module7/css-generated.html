<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
      <head>
         <meta charset="utf-8">
         <!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
         <title>CSS-generated content – Module 7 - Visual design and colours</title>
         <meta content="width=device-width,initial-scale=1" name="viewport">
         <!-- Meta data -->
         <meta name="description"
            content="Accessibility guidelines related to CSS generated content. Avoid CSS-generated content">
         <!-- Meta data-->
         <!-- Load closure template scripts -->
         <script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/rn/cdts/compiled/soyutils.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
         <script src="https://www.canada.ca/etc/designs/canada/cdts/gcweb/rn/cdts/compiled/wet-en.js"></script>
         <!-- Write closure template -->
         <script src="../../../scripts/refTop.min.js"></script>
         <link rel="stylesheet" href="../../../css/a11y-dark.css">
         <script src="../../../scripts/highlight.min.js"></script>
         <script>hljs.highlightAll();</script>
      	<link rel="stylesheet" href="../../../css/esdc-course.css">
</head>
      <body vocab="https://schema.org/" typeof="WebPage">
         <div id="def-top">
         </div>
         <!-- Write closure template -->
         <script>
            var defTop = document.getElementById("def-top");
            defTop.outerHTML = wet.builder.appTop({
                "appName": [{
                    "text": "ESDC / IT Accessibility office",
                    "href": "../../../index.html"
                }],
               "breadcrumbs" : [{
                    "title": "Home",
                    "href" : "../../../index.html"
                },{
                    "title": "Learning",
                    "href" : "../../index.html"
                },
            {
                    "title": "Web accessibility course",
                    "href" : "../index.html"
                },
            {
                    "title": "Module 7 – Visual design and colours",
                    "href" : "index.html"
                },
          {
            "title": "CSS-generated text and icons",
            
          }],
        "lngLinks": [
          {
            "lang": "fr",
            "href": "css-generated-fr.html",
            "text": "Français",
          }],
        "menuPath": "../../../ajax/menu-en.html"
      });

      </script> <div class="container"> <div class="row"><div id="def-search"></div><script src="../../../scripts/appSearch.js"></script>
        <main class="col-md-9 col-md-push-3" property="mainContentOfPage">
          <h1 property="name" id="wb-cont">CSS-generated text and icons</h1>
          <nav aria-labelledby="nav-table" class="mrgn-tp-md">
            <h2 id="nav-table" class="wb-inv">Table of contents</h2>
            <details class="mrgn-bttm-lg on" open="open">
               <summary class="bg-info">Table of contents</summary>
               <ul>
            <li>
               <a href="#designing-with-CSS-generated-content">Designing with CSS-generated content</a>
            </li>
            <li>
               <a href="#css-boundaries">Good example: CSS-generated boundary declarations for elements not exposed to screen readers</a>
            </li>
            <li>
               <a href="#informative-css">Good example: Informative CSS icon</a>
            </li>
            <li>
               <a href="#css-generated-wcag">Related WCAG resources</a>
            </li>
         </ul>
            </details>
         </nav>
		 	<button type="button" class="btn btn-default wb-toggle wb-init wb-toggle-inited" data-toggle="{&#x22;selector&#x22;: &#x22;.grouped&#x22;, &#x22;group&#x22;: &#x22;.grouped&#x22;, &#x22;type&#x22;: &#x22;on&#x22;}" aria-controls="details-1" id="expandAllButton" >Expand all details</button>
		<button type="button" class="btn btn-default wb-toggle wb-init wb-toggle-inited" aria-controls="details-1 " data-toggle="{&#x22;group&#x22;: &#x22;.grouped&#x22;, &#x22;type&#x22;: &#x22;off&#x22;}" id="collapseAllButton"  disabled="disabled">	Collapse all<span class="wb-inv"> details</span></button>
			
				  <section>
                     <h2 id="designing-with-CSS-generated-content">Designing with CSS-generated content</h2>
                     <p>CSS can generate text and icons through the <code>::before</code> and <code>::after</code> pseudo-classes. However, WCAG 2.1 fails any use of non-decorative CSS-generated content, since it can be overwritten by user style sheets (used by users with low vision), it lacks a role, and it's invisible to browser find functionality, among other reasons mentioned in this <a href="https://docs.google.com/document/d/1kvz0D3Au1R6c6q8iKZNH3KqyBt3d6WaJNUCwV35BDX8/edit">defense of WCAG Failure F87</a>. That said, there is a use case for supplemental, CSS-generated text and a mostly-accessible technique for  informative icons.</p>
                     
                    <p>Follow these best practices with CSS-generated content:</p>
					<ul>
						
						<li>Hide decorative CSS-generated content from screen readers with the <code>aria-hidden="true"</code> attribute.</li>
						<li>Don't use CSS-generated text.
							<ul>
								<li>Exception: Use CSS-generated text to expose <code>mark</code>, <code>del</code>, <code>ins</code>, and <code>s</code> elements to screen reader users.</li>
							</ul>
						</li>
						<li>For informative CSS-generated icons:
							<ul>
								<li>Set the icon on a <code>&lt;span&gt;</code> element, and:
									<ul>
										<li>Hide it from screen reader users with the <code>aria-hidden</code> attribute.</li>
										<li>Add a visible label for mouse users with the <code>title</code> attribute.</li>
									</ul>
								</li>
								<li>Add a label for screen-reader users in a second <code>&lt;span&gt;</code> element, visually-hidden with the WET CSS class <code>.wb-inv</code>.</li>
							</ul>
							<p>This approach differs from the <a href="https://wet-boew.github.io/wet-boew-styleguide/design/icons-en.html">WET Style Guide's Icons</a> pattern by adding the <code>title</code> and <code>aria-hidden</code> attributes. It doesn't address the needs of low vision keyboard users.</p>
							<p>WCAG 2.1 also offers an informative CSS icon technique, <a href="https://www.w3.org/WAI/WCAG21/Techniques/aria/ARIA24">ARIA24: Semantically identifying a font icon with role="img"</a>, but it requires a specific style declaration in the <em>user's</em> stylesheet, intended to protect the icon font family declaration from being overwritten. Though not mentioned in WCAG 2.1, using ARIA24 entails promoting its existence to your users with low vision. Also, the <a href="https://docs.google.com/document/d/1kvz0D3Au1R6c6q8iKZNH3KqyBt3d6WaJNUCwV35BDX8/edit">defense of WCAG Failure F87</a> suggests that ARIA24's solution lacks necessary semantics.</p>
							<p>There is no ideal technique for CSS-generated icon fonts.</p>
						</li>
					</ul>
                </section>
                <section>
					 <div class="panel panel-success mrgn-tp-lg">
						<div class="panel-body">
							<h2 class="text-success mrgn-tp-0 h3" id="css-boundaries"><span class="glyphicon glyphicon-ok-circle"></span>&nbsp;Good example: CSS-generated boundary declarations for elements not exposed to screen readers
							</h2>
							
							<p>The roles of the <code>&lt;mark&gt;</code> element and the editorial elements <code>&lt;del&gt;</code>, <code>&lt;ins&gt;</code> and <code>&lt;s&gt;</code> are not declared by screen readers. To alert screen reader users to their presence, visually-hidden CSS-generated text flags the start and end of each.</p>
<p class="lang-label small">CSS</p>
		<p class="wb-inv" role="separator">Code begins</p>
<pre class="mrgn-tp-0"><code class="language-css">mark::before	{ content: " [highlight start] "; }
mark::after	{ content: " [highlight end] "; }

del::before	{ content: " [deletion start] "; }
del::after	{ content: " [deletion end] "; }

ins::before	{ content: " [insertion start] "; }
ins::after	{ content: " [insertion end] "; }

s::before	{ content: " [start of stricken text] "; }
s::after	{ content: " [end stricken text] "; }

/* visually hide the generated content */
mark::before, mark::after,
del::before, del::after,
ins::before, ins::after,
s::before, s::after {
   clip-path: inset(100%);
   clip: rect(1px, 1px, 1px, 1px);
   height: 1px;
   width: 1px;
   overflow: hidden;
   position: absolute;
   white-space: nowrap;
}</code></pre>

							<p class="wb-inv" role="separator">Code ends</p>
						</div>
					</div>
					<hr/>
					<p class="small">Source: Adrian Roselli's blog post <a href="https://adrianroselli.com/2019/02/f87-css-generated-content-and-wcag-conformance.html">F87: CSS Generated Content and WCAG Conformance</a>. February 24, 2019.</p>
				</section>
				<section>
                    <div class="panel panel-success mrgn-tp-lg">
						<div class="panel-body">
							<h2 class="text-success mrgn-tp-0 h3" id="informative-css"><span class="glyphicon glyphicon-ok-circle"></span>&nbsp;Good example: Informative CSS icon
							</h2>
							<p>In this example, the Font Awesome hammer icon is used to represent a task.</p>
							<ul>
								<li>The <code>&lt;span&gt;</code> element with classes <code>.fas</code> and <code>.fa-hammer</code> displays the icon via a CSS <code>::before</code> pseudo-class.</li>
								<li>Its <code>title</code> attribute holds a tooltip for mouse users, "Task".</li>	
								<li>Its <code>aria-hidden="true"</code> attribute hides the element from screen readers, since their support for the <code>title</code> attribute is inconsistent.</li>
								<li>Directly following the icon is a visually-hidden <code>&lt;span&gt;</code> element holding the name “Task”, which declares in all screen readers.</li>
							</ul>
							
							<div class="panel panel-primary">
								<div class="panel-body well mrgn-bttm-0">
									<p class="wb-inv" role="separator">Example begins</p>
									
									 <style type="text/css">
										.fa-hammer:before { content: "\f6e3"; }
										.fas {  font-family: "Font Awesome 5 Free"; }
										.wb-inv {
										clip: rect(1px,1px,1px,1px);
										height: 1px;
										margin: 0;
										overflow: hidden;
										position: absolute;
										width: 1px;
										}
									 </style>
									 
									 <p>
										<span class="fas fa-hammer" title="Task" aria-hidden="true"></span>
										<span class="wb-inv">Task</span>
										Complete the application
									 </p>
									<p class="wb-inv" role="separator">Example ends</p>									
								</div>
							</div>
							
							<p>If their custom style sheets overwrite the icon's <code>font-family</code> declaration, mouse users with low vision can access the icon name by hovering over the placeholder square, triggering the <code>title</code> attribute's tooltip.</p>
							
							<div class="panel panel-primary">
								<div class="panel-body well mrgn-bttm-0">
									
									 <p>
										 <!-- alt value here would be redundant -->
										<img alt="" src="images/icon-mouse-hover.png" class="img-responsive"/>
									 </p>
									
								</div>
							</div>
							
<p class="lang-label small">HTML</p>
		<p class="wb-inv" role="separator">Code begins</p>
<pre class="mrgn-tp-0"><code class="language-html">&lt;p&gt;
   &lt;span class="fas fa-hammer" title="Task" aria-hidden="true"&gt;&lt;/span&gt;
   &lt;span class="wb-inv"&gt;Task&lt;/span&gt;
   Complete the application
 &lt;/p&gt;</code>
</pre>
							<p class="wb-inv" role="separator">Code ends</p>
<p class="lang-label small">CSS</p>
		<p class="wb-inv" role="separator">Code begins</p>
<pre class="mrgn-tp-0"><code class="language-css">.fa-hammer:before { content: "\f6e3"; }
.fas { font-family: "Font Awesome 5 Free"; }
.wb-inv {
   clip: rect(1px,1px,1px,1px);
   height: 1px;
   margin: 0;
   overflow: hidden;
   position: absolute;
   width: 1px;
}
</code></pre>

							<p class="wb-inv" role="separator">Code ends</p>
						</div>
					</div>
                  </section>
                  <section>
                     <h2 id="css-generated-wcag" class="wb-inv">Related WCAG resources</h2>
                     <details id="details-1" class="mrgn-tp-lg grouped on">
                        <summary class="bg-info">Related WCAG resources</summary>
                        <h3>Success criteria</h3>
                        <ul>
                           <li><a href="https://www.w3.org/WAI/WCAG21/Understanding/non-text-content">1.1.1: Non-text Content</a></li>
                           <li><a href="https://www.w3.org/WAI/WCAG21/Understanding/info-and-relationships">1.3.1: Info and Relationships</a></li>
                        </ul>
                        <h3>Techniques</h3>
                        <ul>
                           <li>
                              <a href="https://www.w3.org/WAI/WCAG21/Techniques/general/G94">G94: Providing short text alternative for non-text content that serves the same purpose and presents the same information as the non-text content</a>
                           </li>
                           <li>
                              <a href="https://www.w3.org/WAI/WCAG21/Techniques/aria/ARIA6">ARIA6: Using aria-label to provide labels for objects</a>
                           </li>
                           <li>
							   <a href="https://www.w3.org/WAI/WCAG21/Techniques/aria/ARIA24">ARIA24: Semantically identifying a font icon with role="img"</a>
                           </li>
                        </ul>
						<h3>Failures</h3>
						<ul>
						   <li>
							  <a href="https://www.w3.org/WAI/WCAG21/Techniques/failures/F87
		">F87: Failure of Success Criterion 1.3.1 due to inserting non-decorative content by using :before and :after pseudo-elements and the 'content' property in CSS</a>
						   </li>
						</ul>
                     </details>
                  </section>
                  <nav aria-labelledby="nav-pagination">
			<h2 id="nav-pagination" class="wb-inv">Pagination menu</h2>
                     <ul class="pager">
                        <li class="previous"><a rel="prev" href="textspacing.html">Previous - Text spacing</a></li>
                        <li class="next"><a rel="next" href="hiding-content.html">Next - Hiding and exposing content</a></li>
                     </ul>
                  </nav>
               <a href="#wb-tphp" id="topBtn" class="btn btn-primary btn-xs topBtn"><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> Back to top</a>	 <script src="../../../scripts/esdc-course.js"></script></main>
               <nav id="wb-sec" class="wb-sec col-md-3 col-md-pull-9" typeof="SiteNavigationElement" aria-labelledby="wb-sec-h">
                  <h2 id="wb-sec-h" class="wb-inv">Section menu</h2>
                  <section class="list-group menu list-unstyled">
                     <h3 class="wb-navcurr">Module 7 – Visual design and colours</h3>
                     <ul class="list-group menu list-unstyled">
                        <li><a class="list-group-item" href="introduction.html">Introduction</a></li>
                        <li><a class="list-group-item" href="colour.html">Colour</a></li>
                        <li><a class="list-group-item" href="contrast.html">Contrast</a></li>
                        <li><a class="list-group-item" href="visual-proximity.html">Visual proximity of labels</a></li>
                        <li><a class="list-group-item" href="textspacing.html">Text spacing</a></li>
                        <li><a class="list-group-item active" aria-current="page" href="css-generated.html">CSS-generated text and icons</a></li>
                        <li><a class="list-group-item" href="hiding-content.html">Hiding and exposing content on hover or focus</a></li>
                        <li><a class="list-group-item" href="best-practice-mod-7.html">Best practice</a></li>
                     </ul>
                  </section>
                  <section class="list-group menu list-unstyled">
                     <h3 class="wb-navcurr">All modules</h3>
                     <ul class="list-group menu list-unstyled">
                        <li><a class="list-group-item" href="../module1/web-accessibility.html">Module 1 - Accessibility fundamentals</a></li>
                        <li><a class="list-group-item" href="../module2/landmarks.html">Module 2 – Page structure and semantics</a></li>
                        <li><a class="list-group-item" href="../module3/links.html">Module 3 – Links and navigation</a></li>
                        <li><a class="list-group-item" href="../module4/tables-concepts.html">Module 4 – Tables</a></li>
                        <li><a class="list-group-item" href="../module5/text-alternatives.html">Module 5 – Images</a></li>
                        <li><a class="list-group-item" href="../module6/forms-concepts.html">Module 6 – Forms</a></li>
                        <li><a class="list-group-item active" href="introduction.html">Module 7 – Visual design and colours</a></li>
                        <li><a class="list-group-item" href="../module8/introduction.html">Module 8 – Zoom and responsive design</a></li>
                        <li><a class="list-group-item" href="../module9/introduction.html">Module 9 - Audio, video, animation and motion</a></li>
                        <li><a class="list-group-item" href="../module10/introduction.html">Module 10 - Input modalities</a></li>
                        <li><a class="list-group-item" href="../module11/aria-live.html">Module 11 - ARIA live and time limits</a></li>
			</ul>

			</section>
			<section class="list-group menu list-unstyled">
				<h3 class="wb-navcurr">Appendix</h3>

				<ul class="list-group menu list-unstyled">
					<li>
						<a class="list-group-item" href="../sitemap/sitemap.html">Site map</a>
					</li>
					<li>
						<a class="list-group-item" href="../best-practice/all-best-practice.html">All best practices</a>
					</li>
					<li>
						<a class="list-group-item" href="../wcag/wcag-view.html">WCAG view</a>
					</li>
				</ul>
			</section>
               </nav>
            </div>
            <div id="def-preFooter2"></div>
            <script src="../../../scripts/preFooter2.min.js"></script>
            <div id="def-preFooter"></div>
            <script src="../../../scripts/preFooter.min.js"></script>
         </div>
         <div id="def-footer"></div>
         <script src="../../../scripts/appFooter.min.js"></script>
         <script src="../../../scripts/refFooter.min.js"></script>
         <script src="../../../scripts/bati-itao.min.js"></script>
      </body>
   </html>
   
