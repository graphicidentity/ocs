<!DOCTYPE html>
<html class="no-js" lang="fr" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title>Timer example</title>
		<meta content="width=device-width,initial-scale=1" name="viewport">	
		<script>
		
		function decrement() { 
		
			var numElement = document.getElementById('number'); 
		   
			var newNumber = parseInt(numElement.textContent - 1); 
			if (newNumber > -1) { 
				numElement.textContent = newNumber; 
			} 
			
			if ((newNumber % 15)===0 || newNumber == 0) {
				setAlert();
			} 
		} 
		
		function setAlert() {
			var liveRegion = document.getElementById('countdown'); 
			liveRegion.setAttribute('aria-live', 'assertive'); 
			liveRegion.setAttribute('role', 'alert'); 
			setTimeout(function() { 
				liveRegion.removeAttribute('aria-live'); 
				liveRegion.setAttribute('role', 'timer'); 
			}, 999);
		}
		
		
		window.setInterval(function() { 
			decrement(); 
		}, 1000); 
		
		window.addEventListener('load', function () {
			setAlert(); //alert on 60 seconds (or beginning)
		});
		</script>
		<link rel="stylesheet" href="../../../css/esdc-course.css">
</head>
	<body>
		<div id="countdown" role="timer" aria-atomic="true">
			Il reste <span id="number">60</span> secondes!
		</div>
	</body>
</html>